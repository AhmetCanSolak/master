
//***********************************************************************************
// SPOTLESS:

codeformatfile = new File(buildDir,'codeformat.eclipse.xml')

spotless {
    java {
        importOrder(['java', 'javax', 'com', 'org'])
        removeUnusedImports() // removes any unused imports
        eclipseFormatFile codeformatfile  
    }
}

task downloadCodeFormat(type: Download) {
    src 'https://github.com/ClearControl/master/blob/master/codeformat.eclipse.xml?raw=true'
    dest codeformatfile
    overwrite false
    onlyIfModified true
    tempAndMove true
}

// Making sure that we download the file:
clean.dependsOn(downloadCodeFormat)
compileJava.dependsOn(downloadCodeFormat)
assemble.dependsOn(downloadCodeFormat)
